{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sagrario.meneses/code-game/amazon-search-collection/src/components/App/index.js\",\n    _s = $RefreshSig$();\n\n// Imports\n// --------------------------------\nimport React, { useState, useEffect } from \"react\";\nimport { Header, Main, Item, Modal } from \"./styles\"; // Render\n// --------------------------------\n\nexport default _s(() => {\n  _s();\n\n  const [items, setItems] = useState([{\n    name: \"CASOFU Burritos Blanket, Giant Flour Tortilla Throw Blanket, Novelty Tortilla Blanket for Your Family, Soft and Comfortable Flannel Taco Blanket for Kids. (Burrito-a, 60inches)\",\n    url: \"/CASOFU-Tortilla-Comfortable-Burrito-60inches/dp/B07QTHK8K9/ref=sr_1_1?dchild=1&keywords=burrito+blanket&qid=1586045729&sr=8-1\",\n    image: \"https://m.media-amazon.com/images/I/811OenUrCyL._AC_UL320_ML3_.jpg\",\n    price: \"19.94\"\n  }]);\n  const [showModal, setShowModal] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [timeoutState, setTimeoutState] = useState(null);\n  const [fetching, setFetching] = useState(false);\n\n  const httpRequest = query => {\n    fetch(`http://localhost:5000/search?q=${query}`).then(response => {\n      const json = response.json();\n\n      if (response.ok) {\n        return json;\n      }\n\n      return Promise.reject(\"Something went wrong.\");\n    }).then(json => {\n      setSearchResults(json.data);\n      setFetching(false);\n    }).catch(e => {\n      console.log(\"e\", e);\n      setFetching(false);\n    });\n  };\n\n  const onChangeSearch = event => {\n    setSearch(event.target.value);\n  };\n\n  const onKeyUpSearch = event => {\n    if (search && search.length > 0) {\n      clearTimeout(timeoutState);\n      setTimeoutState(setTimeout(() => {\n        httpRequest(search);\n        setFetching(true);\n      }, 500));\n    }\n  };\n\n  const onClickToggleModal = () => {\n    setShowModal(!showModal);\n    setSearchResults([]);\n    setSearch(\"\");\n  };\n\n  const addItem = item => () => {\n    setItems([...items, item]);\n    localStorage.setItem(\"myItems\", JSON.stringify([...items, item]));\n  };\n\n  const deleteItem = k => () => {\n    const newItems = [...items.slice(0, k), ...items.slice(k + 1)];\n    setItems(newItems);\n    localStorage.setItem(\"myItems\", JSON.stringify(newItems));\n  };\n\n  useEffect(() => {\n    setItems(JSON.parse(localStorage.getItem(\"myItems\")) || []);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      background: \"https://pbs.twimg.com/profile_banners/1060254597443452930/1541644308/1500x500\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://twitter.com/codingwithmanny\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"codingwithmanny\",\n            src: \"https://pbs.twimg.com/profile_images/1060259296305430528/PN3RyKxE_400x400.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"@codingwithmanny\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Personal Wishlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickToggleModal,\n        children: \"Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: items && items.length > 0 ? /*#__PURE__*/_jsxDEV(\"section\", {\n        children: items.map((i, k) => /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              children: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              onClick: deleteItem(k),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", i.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: i.name,\n            src: i.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: i.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://www.amazon.com${i.url}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"View On Amazon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 33\n          }, this)]\n        }, `Item-${k}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"No items yet\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: onClickToggleModal,\n            children: \"Start By Adding An Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClickToggleModal,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: fetching,\n          type: \"search\",\n          value: search,\n          onChange: onChangeSearch,\n          onKeyUp: onKeyUpSearch,\n          placeholder: \"Search for products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [fetching && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"38\",\n              height: \"38\",\n              viewBox: \"0 0 38 38\",\n              stroke: \"#666666\",\n              children: /*#__PURE__*/_jsxDEV(\"g\", {\n                fill: \"none\",\n                children: /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: \"translate(1 1)\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    \"stroke-opacity\": \".5\",\n                    cx: \"18\",\n                    cy: \"18\",\n                    r: \"18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M36 18c0-9.94-8.06-18-18-18\",\n                    transform: \"rotate(277.527 18 18)\",\n                    children: /*#__PURE__*/_jsxDEV(\"animateTransform\", {\n                      attributeName: \"transform\",\n                      type: \"rotate\",\n                      from: \"0 18 18\",\n                      to: \"360 18 18\",\n                      dur: \"1s\",\n                      repeatCount: \"indefinite\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), !fetching && searchResults && searchResults.length > 0 && searchResults.map((i, k) => /*#__PURE__*/_jsxDEV(\"article\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: i.name,\n                src: i.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: i.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", i.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addItem(i),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 33\n            }, this)]\n          }, `items-${k}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}, \"Ww4R2b+tHhSLmYJErTfN5E8m54I=\");","map":{"version":3,"sources":["/Users/sagrario.meneses/code-game/amazon-search-collection/src/components/App/index.js"],"names":["React","useState","useEffect","Header","Main","Item","Modal","items","setItems","name","url","image","price","showModal","setShowModal","search","setSearch","searchResults","setSearchResults","timeoutState","setTimeoutState","fetching","setFetching","httpRequest","query","fetch","then","response","json","ok","Promise","reject","data","catch","e","console","log","onChangeSearch","event","target","value","onKeyUpSearch","length","clearTimeout","setTimeout","onClickToggleModal","addItem","item","localStorage","setItem","JSON","stringify","deleteItem","k","newItems","slice","parse","getItem","map","i"],"mappings":"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","sourcesContent":["// Imports\n// --------------------------------\nimport React, { useState, useEffect } from \"react\";\nimport { Header, Main, Item, Modal } from \"./styles\";\n\n// Render\n// --------------------------------\nexport default () => {\n    const [items, setItems] = useState([\n        {\n            name:\n                \"CASOFU Burritos Blanket, Giant Flour Tortilla Throw Blanket, Novelty Tortilla Blanket for Your Family, Soft and Comfortable Flannel Taco Blanket for Kids. (Burrito-a, 60inches)\",\n            url:\n                \"/CASOFU-Tortilla-Comfortable-Burrito-60inches/dp/B07QTHK8K9/ref=sr_1_1?dchild=1&keywords=burrito+blanket&qid=1586045729&sr=8-1\",\n            image:\n                \"https://m.media-amazon.com/images/I/811OenUrCyL._AC_UL320_ML3_.jpg\",\n            price: \"19.94\",\n        },\n    ]);\n    const [showModal, setShowModal] = useState(false);\n    const [search, setSearch] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([]);\n    const [timeoutState, setTimeoutState] = useState(null);\n    const [fetching, setFetching] = useState(false);\n\n    const httpRequest = (query) => {\n        fetch(`http://localhost:5000/search?q=${query}`)\n            .then((response) => {\n                const json = response.json();\n                if (response.ok) {\n                    return json;\n                }\n                return Promise.reject(\"Something went wrong.\");\n            })\n            .then((json) => {\n                setSearchResults(json.data);\n                setFetching(false);\n            })\n            .catch((e) => {\n                console.log(\"e\", e);\n                setFetching(false);\n            });\n    };\n\n    const onChangeSearch = (event) => {\n        setSearch(event.target.value);\n    };\n\n    const onKeyUpSearch = (event) => {\n        if (search && search.length > 0) {\n            clearTimeout(timeoutState);\n            setTimeoutState(\n                setTimeout(() => {\n                    httpRequest(search);\n                    setFetching(true);\n                }, 500)\n            );\n        }\n    };\n\n    const onClickToggleModal = () => {\n        setShowModal(!showModal);\n        setSearchResults([]);\n        setSearch(\"\");\n    };\n\n    const addItem = (item) => () => {\n        setItems([...items, item]);\n        localStorage.setItem(\"myItems\", JSON.stringify([...items, item]));\n    };\n\n    const deleteItem = (k) => () => {\n        const newItems = [...items.slice(0, k), ...items.slice(k + 1)];\n        setItems(newItems);\n        localStorage.setItem(\"myItems\", JSON.stringify(newItems));\n    };\n\n    useEffect(() => {\n        setItems(JSON.parse(localStorage.getItem(\"myItems\")) || []);\n    }, []);\n\n    return (\n        <div>\n            <Header background=\"https://pbs.twimg.com/profile_banners/1060254597443452930/1541644308/1500x500\">\n                <div>\n                    <a href=\"https://twitter.com/codingwithmanny\">\n                        <img\n                            alt=\"codingwithmanny\"\n                            src=\"https://pbs.twimg.com/profile_images/1060259296305430528/PN3RyKxE_400x400.jpg\"\n                        />\n                        <h1>@codingwithmanny</h1>\n                        <p>Personal Wishlist</p>\n                    </a>\n                </div>\n                <button onClick={onClickToggleModal}>Add Item</button>\n            </Header>\n            <Main>\n                {items && items.length > 0 ? (\n                    <section>\n                        {items.map((i, k) => (\n                            <Item key={`Item-${k}`}>\n                                <dl>\n                                    <dt>...</dt>\n                                    <dd onClick={deleteItem(k)}>Delete</dd>\n                                </dl>\n                                <span>${i.price}</span>\n                                <img alt={i.name} src={i.image} />\n                                <h3>{i.name}</h3>\n                                <a\n                                    href={`https://www.amazon.com${i.url}`}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                >\n                                    View On Amazon\n                                </a>\n                            </Item>\n                        ))}\n                    </section>\n                ) : (\n                    <section>\n                        <p>\n                            No items yet\n                            <br />\n                            <span onClick={onClickToggleModal}>Start By Adding An Item</span>\n                        </p>\n                    </section>\n                )}\n            </Main>\n\n            <Modal show={showModal}>\n                <div>\n                    <button onClick={onClickToggleModal}>&times;</button>\n                    <h1>Add Item</h1>\n                    <input\n                        disabled={fetching}\n                        type=\"search\"\n                        value={search}\n                        onChange={onChangeSearch}\n                        onKeyUp={onKeyUpSearch}\n                        placeholder=\"Search for products\"\n                    />\n                    <section>\n                        {fetching && (\n                            <div>\n                                <svg\n                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                    width=\"38\"\n                                    height=\"38\"\n                                    viewBox=\"0 0 38 38\"\n                                    stroke=\"#666666\"\n                                >\n                                    <g fill=\"none\">\n                                        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n                                            <circle stroke-opacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\n                                            <path\n                                                d=\"M36 18c0-9.94-8.06-18-18-18\"\n                                                transform=\"rotate(277.527 18 18)\"\n                                            >\n                                                <animateTransform\n                                                    attributeName=\"transform\"\n                                                    type=\"rotate\"\n                                                    from=\"0 18 18\"\n                                                    to=\"360 18 18\"\n                                                    dur=\"1s\"\n                                                    repeatCount=\"indefinite\"\n                                                />\n                                            </path>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </div>\n                        )}\n                        {!fetching &&\n                        searchResults &&\n                        searchResults.length > 0 &&\n                        searchResults.map((i, k) => (\n                            <article key={`items-${k}`}>\n                                <div>\n                                    <img alt={i.name} src={i.image} />\n                                </div>\n                                <h3>{i.name}</h3>\n                                <span>${i.price}</span>\n                                <button onClick={addItem(i)}>+</button>\n                            </article>\n                        ))}\n                    </section>\n                </div>\n            </Modal>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}