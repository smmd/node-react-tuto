{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sagrario.meneses/code-game/amazon-search-collection/src/components/App/index.js\",\n    _s = $RefreshSig$();\n\n// Imports\n// --------------------------------\nimport React, { useState, useEffect } from 'react';\nimport { Header, Main, Item, Modal } from './styles'; // Render\n// --------------------------------\n\nexport default _s(() => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [showModal, setShowModal] = useState(true);\n  const [search, setSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [timeoutState, setTimeoutState] = useState(null);\n  const [fetching, setFetching] = useState(false);\n\n  const httpRequest = query => {\n    fetch(`http://localhost:5000/search?q=${query}`).then(response => {\n      const json = response.json();\n\n      if (response.ok) {\n        return json;\n      }\n\n      return Promise.reject('Something went wrong.');\n    }).then(json => {\n      setSearchResults(json.data);\n      setFetching(false);\n    }).catch(e => {\n      console.log('e', e);\n      setFetching(false);\n    });\n  };\n\n  const onChangeSearch = event => {\n    setSearch(event.target.value);\n  };\n\n  const onKeyUpSearch = event => {\n    if (search && search.length > 0) {\n      clearTimeout(timeoutState);\n      setTimeoutState(setTimeout(() => {\n        httpRequest(search);\n        setFetching(true);\n      }, 500));\n    }\n  };\n\n  const onClickToggleModal = () => {\n    setShowModal(!showModal);\n    setSearchResults([]);\n    setSearch('');\n  };\n\n  const addItem = item => () => {\n    setItems([...items, item]);\n    localStorage.setItem('myItems', JSON.stringify([...items, item]));\n  };\n\n  const deleteItem = k => () => {\n    const newItems = [...items.slice(0, k), ...items.slice(k + 1)];\n    setItems(newItems);\n    localStorage.setItem(\"myItems\", JSON.stringify(newItems));\n  };\n\n  useEffect(() => {\n    setItems(JSON.parse(localStorage.getItem('myItems')) || []);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      background: \"https://pbs.twimg.com/profile_banners/1422058765/1482802543/1500x500\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://twitter.com/sagmmd\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"sagmmd\",\n            src: \"https://pbs.twimg.com/profile_images/1336387092872617986/dB-XLxmd_400x400.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"@sagmmd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Personal Wishlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickToggleModal,\n        children: \"Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: items && items.length > 0 ? /*#__PURE__*/_jsxDEV(\"section\", {\n        children: items.map((i, k) => /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              children: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", i.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addItem(i),\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: i.name,\n            src: i.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: i.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://www.amazon.com.mx${i.url}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"View On Amazon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this)]\n        }, `Item-${k}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 46\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"No items yet\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 47\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Start By Adding An Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 32\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClickToggleModal,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: fetching,\n          type: \"search\",\n          value: search,\n          onChange: onChangeSearch,\n          onKeyUp: onKeyUpSearch,\n          placeholder: \"Search for products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [fetching && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"38\",\n              height: \"38\",\n              viewBox: \"0 0 38 38\",\n              stroke: \"#666666\",\n              children: /*#__PURE__*/_jsxDEV(\"g\", {\n                fill: \"none\",\n                children: /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: \"translate(1 1)\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    strokeOpacity: \".5\",\n                    cx: \"18\",\n                    cy: \"18\",\n                    r: \"18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M36 18c0-9.94-8.06-18-18-18\",\n                    transform: \"rotate(277.527 18 18)\",\n                    children: /*#__PURE__*/_jsxDEV(\"animateTransform\", {\n                      attributeName: \"transform\",\n                      type: \"rotate\",\n                      from: \"0 18 18\",\n                      to: \"360 18 18\",\n                      dur: \"1s\",\n                      repeatCount: \"indefinite\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 38\n          }, this), !fetching && searchResults && searchResults.length > 0 && searchResults.map((i, k) => /*#__PURE__*/_jsxDEV(\"article\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: i.name,\n                src: i.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: i.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", i.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)]\n          }, `items-${k}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 112\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}, \"15MU8I8ysJcxX4v4q4w76kFhOXY=\");","map":{"version":3,"sources":["/Users/sagrario.meneses/code-game/amazon-search-collection/src/components/App/index.js"],"names":["React","useState","useEffect","Header","Main","Item","Modal","items","setItems","showModal","setShowModal","search","setSearch","searchResults","setSearchResults","timeoutState","setTimeoutState","fetching","setFetching","httpRequest","query","fetch","then","response","json","ok","Promise","reject","data","catch","e","console","log","onChangeSearch","event","target","value","onKeyUpSearch","length","clearTimeout","setTimeout","onClickToggleModal","addItem","item","localStorage","setItem","JSON","stringify","deleteItem","k","newItems","slice","parse","getItem","map","i","price","name","image","url"],"mappings":"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","sourcesContent":["// Imports\n// --------------------------------\nimport React, { useState, useEffect } from 'react';\nimport { Header, Main, Item , Modal} from './styles';\n\n// Render\n// --------------------------------\nexport default () => {\n    const [items, setItems] = useState([]);\n\n    const [showModal, setShowModal] = useState(true);\n    const [search, setSearch] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const [timeoutState, setTimeoutState] = useState(null);\n    const [fetching, setFetching] = useState(false);\n\n    const httpRequest = query => {\n        fetch(`http://localhost:5000/search?q=${query}`)\n            .then(response => {\n                const json = response.json();\n                if (response.ok) {\n                    return json;\n                }\n                return Promise.reject('Something went wrong.');\n            })\n            .then(json => {\n                setSearchResults(json.data);\n                setFetching(false);\n            })\n            .catch(e => {\n                console.log('e', e);\n                setFetching(false);\n            });\n    };\n\n    const onChangeSearch = event => {\n        setSearch(event.target.value);\n    };\n\n    const onKeyUpSearch = event => {\n        if (search && search.length > 0) {\n            clearTimeout(timeoutState);\n            setTimeoutState(setTimeout(() => {\n                httpRequest(search)\n                setFetching(true);\n            }, 500));\n        }\n    };\n\n    const onClickToggleModal = () => {\n        setShowModal(!showModal);\n        setSearchResults([]);\n        setSearch('');\n    }\n\n    const addItem = item => () => {\n        setItems([...items, item]);\n        localStorage.setItem('myItems', JSON.stringify([...items, item]));\n    }\n\n    const deleteItem = (k) => () => {\n        const newItems = [...items.slice(0, k), ...items.slice(k + 1)];\n        setItems(newItems);\n        localStorage.setItem(\"myItems\", JSON.stringify(newItems));\n    };\n\n    useEffect(() => {\n        setItems(JSON.parse(localStorage.getItem('myItems')) || []);\n    }, []);\n\n    return (\n        <div>\n            <Header background=\"https://pbs.twimg.com/profile_banners/1422058765/1482802543/1500x500\">\n                <div>\n                    <a href=\"https://twitter.com/sagmmd\">\n                        <img alt=\"sagmmd\"\n                             src=\"https://pbs.twimg.com/profile_images/1336387092872617986/dB-XLxmd_400x400.jpg\"/>\n                        <h1>@sagmmd</h1>\n                        <p>Personal Wishlist</p>\n                    </a>\n                </div>\n                <button onClick={onClickToggleModal}>Add Item</button>\n            </Header>\n\n            <Main>\n                {items && items.length > 0\n                    ? <section>\n                        {items.map((i, k) => <Item key={`Item-${k}`}>\n                            <dl>\n                                <dt>...</dt>\n                                <dd>Delete</dd>\n                            </dl>\n                            <span>${i.price}</span>\n                            <button onClick={addItem(i)}>+</button>\n                            <img alt={i.name} src={i.image} />\n                            <h3>{i.name}</h3>\n                            <a href={`https://www.amazon.com.mx${i.url}`} target=\"_blank\" rel=\"noopener noreferrer\">View On Amazon</a>\n                        </Item>)}\n                    </section>\n                    : <section><p>No items yet<br/><span>Start By Adding An Item</span></p></section>}\n            </Main>\n\n            <Modal show={showModal}>\n                <div>\n                    <button onClick={onClickToggleModal}>&times;</button>\n                    <h1>Add Item</h1>\n                    <input disabled={fetching} type=\"search\" value={search} onChange={onChangeSearch} onKeyUp={onKeyUpSearch} placeholder=\"Search for products\" />\n                    <section>\n                        {fetching && <div>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" stroke=\"#666666\">\n                                <g fill=\"none\">\n                                    <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n                                        <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\"/>\n                                        <path d=\"M36 18c0-9.94-8.06-18-18-18\" transform=\"rotate(277.527 18 18)\">\n                                            <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"1s\" repeatCount=\"indefinite\"/>\n                                        </path>\n                                    </g>\n                                </g>\n                            </svg>\n                        </div>}\n\n                        {!fetching && searchResults && searchResults.length > 0 && searchResults.map((i, k) => <article key={`items-${k}`}>\n                            <div><img alt={i.name} src={i.image} /></div>\n                            <h3>{i.name}</h3>\n                            <span>${i.price}</span>\n                            <button>+</button>\n                        </article>)}\n                    </section>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}